<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>An Ode to 53rd Street</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <main>

    <!-- HERO / TITLE SCREEN -->
    <section class="hero">
      <div class="hero-inner">
        <h1 class="hero-title">A Walk Down Memory Lane:</h1>
        <p class="hero-subtitle">
          53rd Street (sometimes fondly called Downtown Hyde Park) has been home to many of us, and I'm sure its memories will live on for far longer.
          Let us take a stroll in time to see how it has become the place we've all grown to love.
        </p>
      </div>
      <img src="img/s0_01.jpeg" alt="53rd Street sign" />
    </section>

    <!-- INTRO / CONTEXT BEFORE FIRST WALK -->
    <section class="intro">
      <div class="intro-inner">
        <h2 class="intro-heading">Let’s rewind.</h2>
        <p class="intro-text">
          Scroll down to jump to 2007, and walk west along 53rd.
        </p>
      </div>
    </section>

    <!-- TRANSITION 1: scroll-driven walk t1-01 ... t1-07 -->
    <section class="walk"
             data-walk
             data-prefix="t1-"
             data-frames="7"
             data-ext="jpeg">
      <div class="walk-sticky">
        <img class="walk-image" src="img/t1-01.jpeg" alt="" />
      </div>
    </section>

    <!-- FIRST STOP SECTION -->
    <section class="stop-section">
      <div class="stop-inner">
        <h2 class="stop-heading">First stop — 1520 E 53rd (Valois)</h2>
        <p class="stop-text">
          Valois has been a constant on this block longer than most of us have been in Hyde Park.
          It has been the go to spot for breakfast, gossip, and Saturday morning recovery for generations of students.
        </p>
      </div>
    </section>

    <!-- SCENES GROUP 1: s1-01, s1-02, etc. (scroll-driven steps) -->
    <section class="scenes" data-scenes>
      <div class="scenes-sticky">
        <div class="scenes-frame">
          <div class="scene-caption scene-caption-top">
            <h2 class="scene-title"></h2>
          </div>

          <img class="scenes-image" src="" alt="" />

          <div class="scene-caption scene-caption-bottom">
            <p class="scene-text"></p>
          </div>
        </div>
      </div>

      <div class="scene-steps">
        <!-- Each step now includes image + title + text data -->
        <div
          class="scene-step"
          data-src="img/s1-01.jpeg"
          data-title="1520 E 53rd – 2007"
          data-text="Valois with Hollywood Video and Bonne Sante as neighbors, before the chains and apartments arrive.">
        </div>

        <div
          class="scene-step"
          data-src="img/s1-02.jpeg"
          data-title="1520 E 53rd – 2013"
          data-text="By now, LA Fitness and the new apartments come in. The block modernizes...">
        </div>

        <div
          class="scene-step"
          data-src="img/s1-03.jpeg"
          data-title="1520 E 53rd – 2016"
          data-text="Chipotle appears, and this corner starts to look more familiar.">
        </div>

        <div
          class="scene-step"
          data-src="img/s1-04.jpeg"
          data-title="1520 E 53rd – 2025"
          data-text="Jump to the present and we see the new Chic-Fil-A under construction. But one thing is of course constant.">
        </div>
      </div>
    </section>

    <!-- CONTINUE PROMPT BEFORE SECOND WALK -->
    <section class="continue-section">
      <div class="continue-inner">
        <h2 class="continue-heading">Let’s continue.</h2>
        <p class="continue-text">
          Keep walking west along 53rd to reach the old Dorchester corner.
        </p>
      </div>
    </section>

    <!-- TRANSITION 2: scroll-driven walk t2-01 ... t2-31 -->
    <section class="walk"
             data-walk
             data-prefix="t2-"
             data-frames="31"
             data-ext="jpeg">
      <div class="walk-sticky">
        <img class="walk-image" src="img/t2-01.jpeg" alt="" />
      </div>
    </section>

    <!-- SECOND STOP SECTION -->
    <section class="stop-section">
      <div class="stop-inner">
        <h2 class="stop-heading">Second stop — 1380 E 53rd (Dorchester Corner)</h2>
        <p class="stop-text">
          This corner has endured more than a few menu changes as we'll see.
          For many of us, it’s been a reliable place to grab food in a pinch.
        </p>
      </div>
    </section>

    <!-- SCENES GROUP 2A: Ribs N Bibs to Wingstop -->
    <section class="scenes" data-scenes>
      <div class="scenes-sticky">
        <div class="scenes-frame">
          <div class="scene-caption scene-caption-top">
            <h2 class="scene-title"></h2>
          </div>

          <img class="scenes-image" src="" alt="" />

          <div class="scene-caption scene-caption-bottom">
            <p class="scene-text"></p>
          </div>
        </div>
      </div>

      <div class="scene-steps">
        <div
          class="scene-step"
          data-src="img/s2-01.jpeg"
          data-title="1380 E 53rd – 2007"
          data-text="Ribs N Bibs holding down the corner.">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-02.jpeg"
          data-title="1380 E 53rd – 2011"
          data-text="There's a new sidewalk, but little else seems to have changed.">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-03.jpeg"
          data-title="1380 E 53rd – 2016"
          data-text="Out with the ribs, in with Hyde Park Taco Station!">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-04.jpeg"
          data-title="1380 E 53rd – 2019"
          data-text="Wingstop announces its arrival boldly.">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-05.jpeg"
          data-title="1380 E 53rd – 2025"
          data-text="Different name, different menu, but the same story: food doesn't change, just the branding.">
        </div>
      </div>
    </section>

    <!-- TURN PROMPT BETWEEN FRONT AND SIDE VIEW -->
    <section class="turn-section">
      <div class="turn-inner">
        <p class="turn-text">
          Now let’s turn and look to the left, toward what’s now the Study Hotel and Mesler.
        </p>
      </div>
    </section>

    <!-- SCENES GROUP 2B: Looking back toward Mesler block -->
    <section class="scenes" data-scenes>
      <div class="scenes-sticky">
        <div class="scenes-frame">
          <div class="scene-caption scene-caption-top">
            <h2 class="scene-title"></h2>
          </div>

          <img class="scenes-image" src="" alt="" />

          <div class="scene-caption scene-caption-bottom">
            <p class="scene-text"></p>
          </div>
        </div>
      </div>

      <div class="scene-steps">
        <div
          class="scene-step"
          data-src="img/s2-06.jpeg"
          data-title="Looking east on 53rd – 2025">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-07.jpeg"
          data-title="Looking east on 53rd – 2025"
          data-text="The whole block is filled in now: The Study Hotel, storefronts, trees, people, cars.">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-08.jpeg"
          data-title="Looking east on 53rd – 2016"
          data-text="The hotel isn't there yet, but behind the roses on the left you can see a stone marking where President Obama is said to have had his first kiss with Michelle back in 1989.">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-09.jpeg"
          data-title="Looking east on 53rd – 2011"
          data-text="Everything is even barer: lower buildings, more parking, and a lot of unused space.">
        </div>

        <div
          class="scene-step"
          data-src="img/s2-10.jpeg"
          data-title="Looking east on 53rd – 2007"
          data-text="Back in 2007, there were way more trees than storefronts, more sky than signage. It almost feels like a different neighborhood.">
        </div>
      </div>
    </section>

    <!-- CONTINUE PROMPT BEFORE THIRD WALK -->
    <section class="continue-section">
      <div class="continue-inner">
        <h2 class="continue-heading">Let’s keep going.</h2>
        <p class="continue-text">
          Turn back west along 53rd to see what surprises are waiting ahead.
        </p>
      </div>
    </section>

    <!-- TRANSITION 3: scroll-driven walk t3-01 ... t3-14 -->
    <section class="walk"
             data-walk
             data-prefix="t3-"
             data-frames="14"
             data-ext="jpeg">
      <div class="walk-sticky">
        <img class="walk-image" src="img/t3-01.jpeg" alt="" />
      </div>
    </section>

    <!-- THIRD STOP SECTION -->
    <section class="stop-section">
      <div class="stop-inner">
        <h2 class="stop-heading">Third stop — 1346 E 53rd (Vue 53 corner)</h2>
        <p class="stop-text">
          This used to be a car wash and gas station, the kind of place you pass without thinking.
          In just a few years, this part of 53rd will feel completely different.
        </p>
      </div>
    </section>

    <!-- SCENES GROUP 3: Gas station to Vue 53 & Target -->
    <section class="scenes" data-scenes>
      <div class="scenes-sticky">
        <div class="scenes-frame">
          <div class="scene-caption scene-caption-top">
            <h2 class="scene-title"></h2>
          </div>

          <img class="scenes-image" src="" alt="" />

          <div class="scene-caption scene-caption-bottom">
            <p class="scene-text"></p>
          </div>
        </div>
      </div>

      <div class="scene-steps">
        <div
          class="scene-step"
          data-src="img/s3-01.jpeg"
          data-title="1346 E 53rd – 2007"
          data-text="A car wash and gas station anchor the corner, backing right up to the sidewalk.">
        </div>

        <div
          class="scene-step"
          data-src="img/s3-02.jpeg"
          data-title="1346 E 53rd – 2011"
          data-text="Not much has changed apart from a fresh layer of paint.">
        </div>

        <div
          class="scene-step"
          data-src="img/s3-03.jpeg"
          data-title="1346 E 53rd – 2014"
          data-text="By 2014, the gas station is gone and the lot has been cleared.">
        </div>

        <div
          class="scene-step"
          data-src="img/s3-04.jpeg"
          data-title="1346 E 53rd – 2016"
          data-text="Construction rises quickly: concrete, steel, and the shell of a much taller building start to take shape.">
        </div>

        <div
          class="scene-step"
          data-src="img/s3-05.jpeg"
          data-title="1346 E 53rd – 2017"
          data-text="Vue 53 and Target arrive, bringing student housing, a big-box store, and a new kind of density to this part of 53rd.">
        </div>

        <div
          class="scene-step"
          data-src="img/s3-06.jpeg"
          data-title="1346 E 53rd – 2025"
          data-text="By 2025, the building feels settled in. For many, Vue 53 and Target are just how this corner has always looked.">
        </div>
      </div>
  </section>

    <!-- CONTINUE PROMPT BEFORE FOURTH WALK -->
    <section class="continue-section">
      <div class="continue-inner">
        <h2 class="continue-heading">Almost there.</h2>
        <p class="continue-text">
          Back in 2007, we&#39;re heading a little further west to our final stop.
        </p>
      </div>
    </section>

    <!-- TRANSITION 4: scroll-driven walk t4-01 ... t4-12 -->
    <section class="walk"
             data-walk
             data-prefix="t4-"
             data-frames="12"
             data-ext="jpeg">
      <div class="walk-sticky">
        <img class="walk-image" src="img/t4-01.jpeg" alt="" />
      </div>
    </section>

    <!-- FINAL STOP SECTION -->
    <section class="stop-section">
      <div class="stop-inner">
        <h2 class="stop-heading">Final stop — 1301 E 53rd (CVS &amp; Kimbark Plaza)</h2>
        <p class="stop-text">
          One side of the corner barely changes at all, while the other flips through coffeeshops, grills, and restaurants.
        </p>
      </div>
    </section>

    <!-- SCENES GROUP 4A: CVS then turning around -->
    <section class="scenes" data-scenes>
      <div class="scenes-sticky">
        <div class="scenes-frame">
          <div class="scene-caption scene-caption-top">
            <h2 class="scene-title"></h2>
          </div>

          <img class="scenes-image" src="" alt="" />

          <div class="scene-caption scene-caption-bottom">
            <p class="scene-text"></p>
          </div>
        </div>
      </div>

      <div class="scene-steps">
        <div
          class="scene-step"
          data-src="img/s4-01.jpeg"
          data-title="1301 E 53rd – 2025"
          data-text="CVS glows at the corner, open 24/7, 365. The one constant in so many late-night snack runs.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-02.jpeg"
          data-title="1301 E 53rd – 2007"
          data-text="Turn back the clock by two decades, CVS is still here, just a little more bare-bones.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-03.jpeg"
          data-title="Looking across the street – 2007"
          data-text="Turn around for a wider view of the street, before the waves of new restaurants roll in.">
        </div>
      </div>
    </section>

    <!-- SCENES GROUP 4B: Third World Cafe to 5 Rabanitos -->
    <section class="scenes" data-scenes>
      <div class="scenes-sticky">
        <div class="scenes-frame">
          <div class="scene-caption scene-caption-top">
            <h2 class="scene-title"></h2>
          </div>

          <img class="scenes-image" src="" alt="" />

          <div class="scene-caption scene-caption-bottom">
            <p class="scene-text"></p>
          </div>
        </div>
      </div>

      <div class="scene-steps">
        <div
          class="scene-step"
          data-src="img/s4-04.jpeg"
          data-title="Across from CVS – 2007"
          data-text="Third World Cafe sits tucked into the corner, an old-school coffee shop with its own loyal crowd.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-05.jpeg"
          data-title="Across from CVS – 2011"
          data-text="A few years later, the cafe is still here: same cozy vibe, same slightly scruffy storefront.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-06.jpeg"
          data-title="Across from CVS – 2016"
          data-text="By 2016, the space has become Yusho Japanese Grill, briefly bringing ramen and skewers to the block.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-07.jpeg"
          data-title="Across from CVS – 2018"
          data-text="Another flip: a BBQ spot moves in, the corner experimenting with yet another kind of comfort food.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-08.jpeg"
          data-title="Across from CVS – 2019"
          data-text="Budlong follows, with bright branding and Southern recipes for students and locals.">
        </div>

        <div
          class="scene-step"
          data-src="img/s4-09.jpeg"
          data-title="Across from CVS – 2025"
          data-text="Today it's 5 Rabanitos, with vibrant colors and a packed dining room. A very different energy from the quiet cafe that started this timeline.">
        </div>
      </div>
    </section>

    <!-- CONTINUE PROMPT BEFORE FIFTH WALK (BACK EAST IN 2025) -->
    <section class="continue-section">
      <div class="continue-inner">
        <h2 class="continue-heading">Heading back.</h2>
        <p class="continue-text">
          We’ve reached the western end of our little tour in time. Let’s turn around and walk back east along 53rd, towards where we started.
        </p>
      </div>
    </section>

    <!-- TRANSITION 5: scroll-driven walk t5-01 ... t5-06 (2025, CVS to Vue 53) -->
    <section class="walk"
             data-walk
             data-prefix="t5-"
             data-frames="6"
             data-ext="jpeg">
      <div class="walk-sticky">
        <img class="walk-image" src="img/t5-01.jpeg" alt="" />
      </div>
    </section>

    <!-- LITTLE INTERLUDE BEFORE FINAL REWIND -->
    <section class="continue-section">
      <div class="continue-inner">
        <h2 class="continue-heading">Oh Wait!</h2>
        <p class="continue-text">
          We just walked this stretch in 2025. Lit up, built up, and full of people. But before we finish, let’s rewind to 2007 and continue the same path one more time.
        </p>
      </div>
    </section>

    <!-- TRANSITION 6: scroll-driven walk t6-01 ... t6-46 (2007, back to the start) -->
    <section class="walk"
             data-walk
             data-prefix="t6-"
             data-frames="46"
             data-ext="jpeg">
      <div class="walk-sticky">
        <img class="walk-image" src="img/t6-01.jpeg" alt="" />
      </div>
    </section>

    <!-- EPILOGUE / CLOSING SECTION -->
    <section class="epilogue">
      <div class="epilogue-inner">
        <h2 class="epilogue-heading">Back where we began.</h2>
        <p class="epilogue-text">
          If you’ve lived in Hyde Park, you probably recognize at least one of these corners as “yours”: your go-to coffee spot, your first apartment, your default hang out spot.
        </p>
        <p class="epilogue-text">
          We’ve only walked a kilometer or so, but we jumped almost twenty years. Somewhere in the middle, all of us showed up, overlapped for a few years, and built our own versions of 53rd.
        </p>
        <p class="epilogue-text">
          The street will keep changing. Valois will probably still be there. CVS will probably still come to the rescue at 3am. And even if we’re scattered around the world in different cities, this little strip of home will always hold a version of us, frozen in time.
        </p>
        <div class="epilogue-sign">
          <img src="img/s0_01.jpeg" alt="53rd Street sign" />
        </div>
      </div>
    </section>

    <footer class="site-footer">
      Made with &lt;3 by Shri in 2026.
    </footer>

</main>

  <script>
    // Lock viewport height once to avoid jank in in-app browsers
    function setLockedVh() {
      var vh = window.innerHeight || document.documentElement.clientHeight;
      document.documentElement.style.setProperty("--vh-locked", vh + "px");
    }

    // Set on load; we avoid listening to resize to keep the value stable as toolbars show/hide
    window.addEventListener("DOMContentLoaded", setLockedVh);
    window.addEventListener("load", setLockedVh);
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* ===============================
         TRANSITIONS: SCROLL-DRIVEN WALKS
         =============================== */

      const walkSections = document.querySelectorAll("[data-walk]");

      walkSections.forEach(section => {
        const prefix = section.dataset.prefix || "";
        const frameCount = parseInt(section.dataset.frames, 10) || 0;
        const ext = section.dataset.ext || "jpeg";
        const imgEl = section.querySelector(".walk-image");

        const sources = [];
        for (let i = 1; i <= frameCount; i++) {
          const indexStr = String(i).padStart(2, "0");
          const src = `img/${prefix}${indexStr}.${ext}`;
          sources.push(src);

          // Preload frames
          const img = new Image();
          img.src = src;
        }

        section._frameSources = sources;
        section._imgEl = imgEl;
      });

      function updateWalks() {
        const viewportHeight = window.innerHeight;
        const scrollY = window.scrollY;

        walkSections.forEach(section => {
          const sources = section._frameSources;
          const imgEl = section._imgEl;
          if (!sources || sources.length === 0 || !imgEl) return;

          const maxIndex = sources.length - 1;

          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;

          let frameIndex;

          if (scrollY <= sectionTop) {
            // Before section starts → first frame
            frameIndex = 0;
          } else if (scrollY >= sectionTop + sectionHeight - viewportHeight) {
            // After section ends → last frame
            frameIndex = maxIndex;
          } else {
            // Inside section → map scroll progress to frame index
            const usableScroll = sectionHeight - viewportHeight || 1;
            const progress = (scrollY - sectionTop) / usableScroll; // 0–1
            const clamped = Math.min(Math.max(progress, 0), 1);
            frameIndex = Math.round(clamped * maxIndex);
          }

          const nextSrc = sources[frameIndex];
          // Avoid redundant src assignments
          if (!imgEl.src.endsWith(nextSrc)) {
            imgEl.src = nextSrc;
          }
        });
      }

      window.addEventListener("scroll", () => {
        window.requestAnimationFrame(updateWalks);
      });
      window.addEventListener("resize", updateWalks);

      // Initial paint
      updateWalks();

      /* ===============================
         SCENES: STICKY IMAGE + STEPS
         =============================== */

      const scenesSections = document.querySelectorAll("[data-scenes]");

      // Initialize each scenes group
      scenesSections.forEach(section => {
        const imgEl = section.querySelector(".scenes-image");
        const titleEl = section.querySelector(".scene-title");
        const textEl = section.querySelector(".scene-text");
        const steps = Array.from(section.querySelectorAll(".scene-step"));

        if (!imgEl || !titleEl || !textEl || steps.length === 0) return;

        section._imgEl = imgEl;
        section._titleEl = titleEl;
        section._textEl = textEl;
        section._steps = steps;

        // Set initial image + text from first step
        const firstStep = steps[0];
        const firstSrc = firstStep.dataset.src;
        const firstTitle = firstStep.dataset.title || "";
        const firstText = firstStep.dataset.text || "";

        if (firstSrc) {
          imgEl.src = firstSrc;
        }
        titleEl.textContent = firstTitle;
        textEl.textContent = firstText;
      });

      const stepObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;

          const step = entry.target;
          const section = step.closest("[data-scenes]");
          if (!section) return;

          const imgEl = section._imgEl;
          const titleEl = section._titleEl;
          const textEl = section._textEl;

          const src = step.dataset.src;
          const title = step.dataset.title || "";
          const text = step.dataset.text || "";

          if (imgEl && src && !imgEl.src.endsWith(src)) {
            imgEl.src = src;
          }
          if (titleEl) {
            titleEl.textContent = title;
          }
          if (textEl) {
            textEl.textContent = text;
          }
        });
      }, {
        threshold: 0.6
      });

      scenesSections.forEach(section => {
        const steps = section._steps || [];
        steps.forEach(step => stepObserver.observe(step));
      });
    });
  </script>

</body>
</html>